<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Curious | Portal</title>
  
  <!-- Google Tag Manager -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-T9S88HFP32"></script>
  <script src="/scripts/gtag.js" defer></script>

  <!-- Styles -->
  <link rel="stylesheet" href="./assets/css/style.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
  
  <!-- Scripts -->
  <script src="/scripts/auth.js"></script>
  <script src="/scripts/v2-portal.js"></script>
  <script src="/scripts/v2-config.js" defer></script>
  <script src="/scripts/qrious.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
</head>

<body class="hidden">
  <div id="login-container" class="hidden">
    <img src="./assets/images/site-logo.png" alt="Curious Logo" style="width: 200px; height: auto;">
    <h2>Staff Login</h2>
    <input type="text" id="username" placeholder="Username">
    <input type="password" id="password" placeholder="Password">
    <button id="login-button">Login</button>
    <p id="login-error" style="color: red; display: none;">Invalid username or password.</p>
  </div>

  <div id="portal-content" style="display: none;">
    <header>
      <h1 id="portal-title">Admin Portal</h1>
      <button id="logout-button">Log Out</button>
    </header>

    <main>
      <div class="dashboard-grid">
        
        <section class="dashboard-card">
          <h2>Site Information</h2>
          <div id="site-info-content"></div>
        </section>

        <section class="dashboard-card">
          <h2>Analytics Dashboard</h2>
          <button id="view-analytics">View Analytics</button>
        </section>

        <section class="dashboard-card">
          <h2>Fish ID Tool (beta)</h2>
          <button id="test-capture">Try Demo</button>
        </section>

        <section class="dashboard-card">
          <h2>Husbandry Tools</h2>
          <button id="welfare-assessment-tool">Capture a Welfare Assessment</button>
          <button id="welfare-assessment-history">View Historic Welfare Assessments</button>
        </section>
        
        <section class="dashboard-card">
          <h2>Generate QR Codes</h2>
          <button id="generate-all-qr">Generate QR Codes for All Exhibits</button>
          <select id="exhibit-select">
            <option value="">-- Select an Exhibit --</option>
          </select>
          <button id="generate-qr" disabled>Generate QR Code</button>
          <canvas id="qr-code"></canvas>
          <button id="download-qr" style="display: none;">Download this QR Code</button>
        </section>

        <section class="dashboard-card">
          <h2>Documents</h2>
          <ul id="docs-list"></ul>
        </section>

      </div>

      <section id="exhibit-list">
        <h2>Exhibit Overview</h2>
        <p>The table below provides an overview of the active exhibits available to visitors.</p>
        <table id="exhibits-table">
          <thead>
            <tr>
              <th>ID</th>
              <th>Exhibit</th>
              <th>Species</th>
            </tr>
          </thead>
          <tbody id="exhibits-table-body"></tbody>
        </table>
        <button id="view-all-species">View All Objects</button>
      </section>
    </main>

    <footer>
      <a href="/index.html">
        <img src="/assets/images/logo.png" alt="Curious Logo">
      </a>
    </footer>
  </div>
</body>
</html>
